dc={version:"0.1.0"},dc.createPieChart=function(e){return new this.PieChart(e)},dc.PieChart=function(e){function c(){r.select("svg").remove();var e=h(),t=d3.layout.pie().value(function(e){return e.value}),n=d3.svg.arc().outerRadius(f),i=v(e,t,n);m(i,n)}function h(){var e=r.append("svg").data([o.all()]).attr("width",u).attr("height",a).append("g").attr("transform","translate("+p()+","+d()+")");return e}function p(){return u/2}function d(){return a/2}function v(e,t,r){var s=e.selectAll("g."+n).data(t).enter().append("g").attr("class",n);return s.append("path").attr("fill",function(e,t){return i(t)}).attr("d",r).on("click",function(e,t){g(e.data.key)}),s}function m(e,t){e.append("text").attr("transform",function(e){e.innerRadius=0,e.outerRadius=f;var n=t.centroid(e);return isNaN(n[0])||isNaN(n[1])?"translate(0,0)":"translate("+n+")"}).attr("text-anchor","middle").text(function(e){var t=e.data;return t.value==0?"":t.key})}function g(e){l=e,r.selectAll("g."+n).select("path").each(function(e,t){y(e)?d3.select(this).attr("fill-opacity",1).attr("stroke","#ccc").attr("stroke-width",3):d3.select(this).attr("fill-opacity",.1).attr("stroke-width",0),s.filter(l)})}function y(e){return l==e.data.key}var t=null,n="pie-slice",e=e,r=d3.select(e),i=d3.scale.category20c(),s,o,u,a,f,l=t;this.render=function(){c()},this.select=function(e){return r.select(e)},this.selectAll=function(e){return r.selectAll(e)},this.colors=function(e){return arguments.length?(i=e,this):i},this.dimension=function(e){return arguments.length?(s=e,this):s},this.group=function(e){return arguments.length?(o=e,this):o},this.filter=function(e){return s.filter(e),this},this.width=function(e){return arguments.length?(u=e,this):u},this.height=function(e){return arguments.length?(a=e,this):a},this.radius=function(e){return arguments.length?(f=e,this):f},this.selectSlice=function(e){return arguments.length?(g(e),this):l},this.hasSliceSelection=function(){return l!=t}};